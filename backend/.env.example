# ============================================================================
# Database Configuration
# ============================================================================
DATABASE_URL=postgresql://cloudcam_user:dev_password_123@localhost:5432/cloudcam_dev

# ============================================================================
# Redis Configuration (Optional - for rate limiting and caching)
# ============================================================================
REDIS_URL=redis://localhost:6379

# ============================================================================
# JWT Authentication
# ============================================================================
JWT_SECRET=your_super_secure_jwt_secret_here_min_32_chars
JWT_ISSUER=cloudcam-api
JWT_AUDIENCE=cloudcam-client
JWT_ACCESS_TOKEN_EXPIRES_IN=15m      # 15 minutes
JWT_REFRESH_TOKEN_EXPIRES_IN=30d     # 30 days
JWT_EMAIL_VERIFICATION_EXPIRES_IN=24h # 24 hours
JWT_PASSWORD_RESET_EXPIRES_IN=1h     # 1 hour

# ============================================================================
# Encryption
# ============================================================================
AES_SECRET=your_32_char_aes_encryption_key_here

# ============================================================================
# OAuth Providers
# ============================================================================

# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_CALLBACK_URL=http://localhost:3001/api/auth/google/callback

# Google Drive API (Service Account)
GOOGLE_SERVICE_ACCOUNT_EMAIL=your-service-account@your-project.iam.gserviceaccount.com
GOOGLE_SERVICE_ACCOUNT_KEY={"type": "service_account", "project_id": "..."}  # Full JSON key file contents
GOOGLE_DRIVE_ROOT_FOLDER_ID=your_root_folder_id  # Optional: Root folder ID in Google Drive

# Google Drive Encryption (AES-256-GCM)
GOOGLE_ENCRYPTION_KEY=base64_encoded_32_byte_key  # Generate with: openssl rand -base64 32
GOOGLE_ENCRYPTION_ENABLED=true  # Set to false to disable encryption

# Google Drive Quota Settings (in bytes)
GOOGLE_DRIVE_QUOTA_WARNING_THRESHOLD=8589934592  # 8GB (80% of 10GB free tier)
GOOGLE_DRIVE_QUOTA_CRITICAL_THRESHOLD=9663676416  # 9GB (90% of 10GB free tier)

# ============================================================================
# Application Settings
# ============================================================================

# Server Configuration
NODE_ENV=development  # development, test, production
PORT=3001
API_PREFIX=/api
CORS_ORIGIN=http://localhost:3000

# Logging
LOG_LEVEL=info  # error, warn, info, debug, trace
LOG_TO_FILE=true
LOG_FILE_PATH=logs/app.log
LOG_MAX_SIZE=10485760  # 10MB
LOG_MAX_FILES=14  # Keep logs for 14 days

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100  # Max requests per window per IP

# Session Management
SESSION_SECRET=your_session_secret_here
SESSION_MAX_AGE=86400000  # 24 hours in ms

# ============================================================================
# Email Configuration
# ============================================================================

# SMTP Settings (for production)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false  # true for 465, false for other ports
SMTP_USER=your_smtp_username
SMTP_PASS=your_smtp_password

# Email Sender
EMAIL_FROM=CloudCam <noreply@cloudcam.com>
EMAIL_REPLY_TO=soporte@cloudcam.com
EMAIL_LOGO_URL=https://yourdomain.com/logo.png

# Email Templates (relative to views/emails/)
EMAIL_TEMPLATE_VERIFY=verify-email.hbs
EMAIL_TEMPLATE_PASSWORD_RESET=password-reset.hbs
EMAIL_TEMPLATE_DRIVE_QUOTA_WARNING=drive-quota-warning.hbs

# ============================================================================
# Application Configuration
# ============================================================================
NODE_ENV=development
PORT=3001
API_URL=http://localhost:3001
FRONTEND_URL=http://localhost:5173

# ============================================================================
# Rate Limiting
# ============================================================================
RATE_LIMIT_WINDOW_MS=900000        # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100        # Limit each IP to 100 requests per window
AUTH_RATE_LIMIT_MAX_REQUESTS=5     # Limit auth endpoints to 5 requests per window
REGISTER_RATE_LIMIT_MAX_REQUESTS=3 # Limit registration to 3 requests per hour

# ============================================================================
# Logging
# ============================================================================
LOG_LEVEL=debug  # error, warn, info, debug, trace

# ============================================================================
# Security Headers
# ============================================================================
CORS_ORIGIN=http://localhost:5173
HELMET_ENABLED=true
HSTS_ENABLED=false  # Enable in production with SSL

# ============================================================================
# Session (for OAuth)
# ============================================================================
SESSION_SECRET=your_session_secret_here

# ============================================================================
# Feature Flags
# ============================================================================
EMAIL_VERIFICATION_REQUIRED=true
PASSWORD_RESET_ENABLED=true
GOOGLE_OAUTH_ENABLED=true
